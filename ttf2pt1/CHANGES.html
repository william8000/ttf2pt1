<HTML>
<HEAD>
<TITLE>
TTF2PT1 -  CHANGES history
</TITLE>
</HEAD>
<BODY>
<H2>
TTF2PT1 -  CHANGES history
</H2>

<! 
(Do not edit this file, it is generated from CHANGES.html!!!)
>

<H4>
3.22 -- May 23, 2000
</H4>
<!
--------------------
>

Packaged by Sergey Babkin.
<p>

<b>New features:</b>
<br>
- Included windows support by Frank Siegert (somewhat amended)
<br>
- Added control over verbosity of warnings.
<br>
- Added arguments and initialization functions to the language
translation routines.
<br>
- Added support of planes determined by arguments to the external
maps.
<br>
- Added compact external maps format (primarily for Eastern fonts).
<br>
- Added external maps for Chinese GBK and Big5 encodings (converted
from ttf2pfb) as well as maps for other Chinese encodings by Wang Lei.
<br>
- Added the idea of buckets to speed up the search in external maps.
<br>
- Changed the grouping algorithm for substituted hints: now it creates
a bit bigger files but requires smaller hint stack when being rendered.
<br>
- Added maximal limit of hint stack depth, glyphs requiring bigger 
stack get generation of substituted hints disabled. This makes substituted 
hints safe to use, no more lost glyphs due to hint stack overflow.
<br>
- Added the font dump program <tt>other/dumpf</tt>.
<br>
- Changed the testing HTML generator <tt>other/lst.pl</tt> to use tables.
<br>
- Added debugging script <tt>other/cntstems.pl</tt> to count required hint
stack depth for the glyphs.
<p>

<b>Bug fixes:</b>
<br>
- Fixed printing of UID in script/trans. Changed the auto-generated UID to
be in range 4000000-4999999 which is reserved by Adobe for private use.
<br>
- Fixed handling of "cleartomark" in built-in t1asm.
<br>
- Added handling of "can't happen" case in straighten() routine
which actually happened on strange fonts and caused failure on assertion.
<br>
- Made it always include the glyph .notdef in the resulting font.
<br>
- Placed the version string in AFM file in parentheses, hopefully
that would fix the problem with StarOffice.
<p>

<H4>
3.21 -- March 1, 2000
</H4>
<!
---------------------
>

Sergey Babkin: committed the changes by Petr Titera and
my bugfixes.
<p>

<b>New features:</b>
<br>
- New Unicode map format with glyph names, by Petr Titera.
<br>
- Option to force the Unicode encoding by Petr Titera
 (I changed it to work on any MS encoding, not only Symbol).
<br>
- Slightly tweaked the calculation of hints, should be better now.
<p>

<b>Bug fixes:</b>
<br>
- The unicode-sample.map with description of the map formats
 was lost in the release process, restored and enhanced.
<br>
- Renamed the table ISOLatin1Encoding to Fmt3Encoding to reflect
 the way it is used. Saved the original one for reference
 purposes. In the new table renamed "quoteright" to "quotesingle"
 as Thomas Henlich suggested (and he were right).
<br>
- In the ISOLatinEncoding table renamed the glyph "grave"
 at octal 0140 to "quoteleft", "quotesingle" at octal 047 to
 "quoteright" to conform to the standard as suggested by 
 Martin Trautner).
<br>
- Fixed bug in scripts/trans that corrupted the UniqueID record
 in the translated fonts.
<br>
- Fixed bug in interaction of substituted hints with BlueZones.
 Now the fonts with hint substitution seem to be always at least
 not worse than without it (well, when they fit in the X11
 file size limit).
<p>


<H4>
3.2 -- January 15, 2000
</H4>
<!
-----------------------
>

Sergey Babkin: combined my changes with the changes by
Thomas Henlich. The result deserves a not-so-minor version
increase.
<p>

<b>New features:</b>
<br>
- Support of the external Unicode re-encoding maps
  (by Thomas).
<br>
- Support for inclusion of all the glyphs from the
  source file into the resulting file (inspired by
  Thomas but I re-implemented it to remove the limitation
  of his implementation: not more than 1024 glyphs).
<br>
- The hints substitution. It's an experimental feature
  yet and needs further work.
<br>
- Support for UniqueID and its auto-generation.
<br>
- Support for the name-based conversions from Unicode
  in general and the adobestd "language" in particular.
<br>
- Started the split of the source code into multiple
  files. This needs more work to do it in a cleaner
  way.
<br>
- Better framework for the debugging printout
  in the converter.
<br>
- Utilities to install the fonts in Netscape 
  Navigator/Communicator 4.x.
<br>
- Patches for bigger font files in the X11 rasterizer.
<br> 
- Linux RPM spec-file (by Johan Vromans).
<br> 
- Added the COPYRIGHT file (BSD-style, as we discussed
  on the mailing list earlier) and the CHANGES file.
<br> 
- Creation of the <tt>.pfb</tt> files from the <tt>convert</tt>
  script.
<br>
- Changed the <tt>.notdef</tt>-s in the built-in
  ISOLatin1Encoding table to some valid names (by Thomas).
  Thomas also suggested replacing `<tt>quoteright</tt>' by
  `<tt>quotesingle</tt>' but this seems to be against the
  Adobe ISOLatin1 table.
<br>
- New aliases <tt>windows-1251</tt> and <tt>cp-866</tt> for
  the Russian encodings: those are expected by Netscape
  navigator.
<br>
- The font comparison program <tt>other/cmpf</tt>.
<br>
- The "magnifying glass" program for glyph outlines:
  <tt>other/showg</tt>.
<br>
- Other updates of the tools in the `<tt>other</tt>' subdirectory.
<br>
- Added a link to T1LIB in README.
<br>
- A few new options in <tt>convert.cfg</tt>.
<p>

<b>Bux fixes:</b>
<br>
- A bug in the outline smoothing code that corrupted some
  of the fonts (for example, Microsoft Verdana).
<br>
- Added explicit `<tt>cleartomark</tt>' to the end of file,
  this seems to be compatible with both old and new version
  of <tt>t1asm</tt> (suggested by Thomas).
<br>
- Added the <tt>FontEncoding</tt> statement to the AFM files
  (techincally this was not a bug because this statement
  is optional but some programs want it).
<br>
- A coredump when the converter tried to print a warning
  (rather ironically) about a weird glyph width.
<br>
- Changed the underscores in the font names to dashes (this
  has been proposed long time ago by Johan Vromans).
<br>
- No more glyph names of font names staring with a digit.
<br>
- The names of the fonts in font and AFM files are now the
  same as in the generated Ghostscript <tt>Fontmap</tt> file.<br>
  <b>Warning:</b> the names in <tt>Fontmap</tt> have been
  changed.
<br>
- The <tt>forceiso</tt> script does not corrupt the character
  and kerning pairs counts any more, and is optional at all.
<br>
- Fix for a loop going to 254 instead of 255 (by Thomas).
<br>
- Added ':' in the font header (by Thomas).
<br>
- A coredump when wrong language name is given (this was
  also fixed by Thomas but I noticed it too late, after
  I already fixed it by myself).
<br>
- Fixed the links to the Adobe documents in README.
<p>


<H4>
3.13 -- October 18, 1999
</H4>
<!
------------------------
>

Packaged by Sergey Babkin.
<p>

<b>New features:</b>
<br>
- New option -v for automatic re-scaling based on the vertical size of the font 
<br>
- Changed the code to use getopt() instead of a home-made version of it.
<br>
- Latin2 language support by Szalay Tamas. 
<p>

<b>Bux fixes:</b>
<br>
- Fix for the bug that made possible calls of malloc(0). 
<br>
- Refinement of the option -w to prevent extra wide spacing 
<p>

<H4>
3.12 -- October 2, 1999
</H4>
<!
-----------------------
>

Packaged by Sergey Babkin.
<p>

<b>New features:</b>
<br>
- Added support for the Bulgarian language (actually, for now just an alias
of Russian).                                                                    
<br>
- Added option -w that tries to make sure that the character widths are not
too narrow.                                                                     
<br>
- Added the concept of aliased encodings.
<br>
- Now the conversion scripts create and install the .afm files too.
<br>
- The conversion script removes the intermediate files after installation.
<br>
- Added tunables to the conversion script.
<br>
- Installation of the Ghostscript fonts can now be done automatically
together with the X11 fonts.
<p>

<b>Bux fixes:</b>
<br>
- (FINALLY!!!) A correct fix for the infamous Red Hat 6.0 stdio "feature".
<br>
- A number of little bugs discovered by a picky SGI compiler (well, maybe
some day I'll try to run it through the UnixWare lint and see what happens).    
<br>
- A diagnostic message about the empty encodings in the convert script was
made less cryptic and a bug in the awk sub-script was fixed.                    
<br>
- The .afm creation code now considers the option -t. 
<p>

<H4>
3.11 -- May 24, 1999
</H4>
<!
--------------------
>

Packaged by Sergey Babkin.
<p>

<b>New features:</b>
<br>
- It includes the Turkish (Latin5, ISO8859/9) 
language support by Turgut Uyar and Baltic (ISO8859/4) languages support by
Rihardas Hepas. 
<br>
- Also the installation script got updated: the configuration parameters 
are moved to a separate file and the generated fonts.dir files should now be
compatible with Xfsft.
<p>

<H4>
3.1 -- March 28, 1999
</H4>
<!
---------------------
>

Packaged by Sergey Babkin.
<p>

<b>New features:</b>
<br>
- Improved the interaction of the character-level hints and font-level hints
<p>


<H4>
3.0 -- March 6, 1999
</H4>
<!
--------------------
>

Packaged by Sergey Babkin.
<p>

<b>New features:</b>
<br>
- Added HTML documents.
<p>

<H4>
3.0beta2 -- February 14, 1999
</H4>
<!
-----------------------------
>

Packaged by Sergey Babkin.
<p>

<b>New features:</b>
<br>
- Added ability to print the .afm file instead of the font to STDOUT.
<br>
- Added the guessing of the /ForceBold parameter that proved to be useful.
<p>

<b>Bux fixes:</b>
<br>
- Removed the force-fixed option that proved to be troublesome.
<p>

<H4>
3.0beta1 -- December 11, 1998
</H4>
<!
-----------------------------
>

By Andrew Weeks.
<p>

<b>New features:</b>
<br>
- Added option (passed to t1asm) to create a compressed binary
version of the font (A PFB file).
<p>

<b>Bux fixes:</b>
<br>
- Versions of handle_post and handle_cmap that deal with some
problems with buggy fonts.
<br>
- Minor Bug Fixes.
<p>

<H4>
3.0beta-afm -- December 5, 1998
</H4>
<!
-------------------------------
>

By Thomas Henlich.
<p>

<b>New features:</b>
<br>
- Integration of AFM file creation.
<p>

<H4>
3.0beta -- November 15, 1998
</H4>
<!
----------------------------
>

By Sergey Babkin.
<p>

<b>New features:</b>
<br>
- Added the auto-calculation of the italic angle.
<p>

<b>Bux fixes:</b>
<br>
- Fixed a couple of bugs.
<p>

<H4>
3.0alpha -- October 19, 1998
</H4>
<!
----------------------------
>

By Sergey Babkin.
<p>

<b>New features:</b>
<br>
- Improved (although still not perfect) handling of
scaling in composite glyphs
<br>
- Automatic correction of outlines to make them more
smooth (to correct both rounding errors introduced
during conversion and present in the original font)
<br>
- Automatic generation of hints (still has lots of
space for improvement)
<br>
- Automatic generation of BlueValues etc.
<p>

<b>Bux fixes:</b>
<br>
- Scaling of fonts to 1000x1000 M-square required by
Type1 standard
<br>
- Printing out the contours in reverse direction, because
TTF directions are different from Type1 ones (that was
the major reason why the fonts generated by
version 2.2 were rendered so badly in small sizes)
<p>

<H4>
June 22, 1998 (AKA 2.2)
</H4>
<!
-------------
>

By Thomas Henlich.
<p>

<b>Bux fixes:</b>
<br>
- "width" should be "short int" because otherwise:
characters with negative widths (e.g. -4) become *very* wide (65532)
<br>
- The number of /CharStrings is numglyphs and not numglyphs+1
<p>

<H4>
February 13, 1998
</H4>
<!
-----------------
>

By Mark Heath.
<p>

<b>Bux fixes:</b>
<br>
- An original Bug Reported by Frank, which was just incorrect syntax in the 
Type 1 header, managed to creep back into the Feb 04 Version. This has been
Fixed in the Feb 13 Version.
<p>

<H4>
February 4, 1998
</H4>
<!
----------------
>

By Mark Heath.
<p>

<b>Bux fixes:</b>
<br>
- A workaround was implemented in ttf2pfa by altering the matrix. I suspect 
I will have to calculate the correct values, as matrix ops are probably not
allowed in Type 1 format.
<p>

<!
---------------------------------------------
>
<H4>
The older history seems to be lost.
</H4>

<I>
(S.B.: The story how we got the version numbers is rather funny. Initially
there were no version umbers, the releases were marked by dates. The version
from June 22 1998 untarred itself into a directory "<tt>ttf2pt1-22</tt>". When I
made my changes to it I assumed that this was the version number meaning
version 2.2. Since Mark asked me to send him a complete archive I supposed 
that I have to bump the version number. And I bumped it to 3.0 because the
changes were rather extensive. Mark silently agreed and released the new
version as 3.0. And that's the end of the story about how we got this
Microsoft-like high version number.)
</I>

</BODY>
</HTML>
